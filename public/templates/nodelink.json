{
  "pan": {"modifierKeyRequired": [ ]},
  "zoom": true,

  "data": "[dataDefinition]",
  "networks": "[networksDefinition]",

  "layouts": [
    {
      "name": "layout",
      "network": "network",
      "type": "d3-force"
    }
  ],

  "scales": [
    {
      "name": "radius",
      "type": "linear",
      "range": [10, 280],
      "domain": { "data": "network.nodes", "field": "degree" }
    },
    {
      "name": "nodeColor",
      "type": "linear",
      "scheme": "reds",
      "domain": { "data": "network.nodes", "field": "degree" }
    },
    {
      "name": "edgeColor",
      "type": "ordinal",
      "scheme": "category20",
      "domain": {
        "data": "network.links",
        "field": "linkType"
      }
    }
  ],

  "vis": [
    {
      "entries": "network.links",
      "layout": "layout",
      "mark": {
        "type": "linkpath",
        "start": "source",
        "end": "target",
        "stroke": {
          "field": "linkType",
          "scale": "edgeColor"
        },
        "strokeWidth": 1
      }
    },
    {
      "entries": "network.nodes",
      "layout": "layout",
      "mark": {
        "type": "circle",
        "area": {
          "field": "degree",
          "scale": "radius"
        },
        "fill": {
          "field": "degree",
          "scale": "nodeColor"
        },
        "tooltip": {
          "expression": "datum.id + ' (degree ' + datum.degree + ')' "
        }
      }
    }
  ]
}